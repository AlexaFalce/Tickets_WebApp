<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{master :: layout(~{::title},~{::meta},~{::main})}">
<head>
  <title>Tickets - Watchers</title>
  <meta name="description" content="Users who are looking at the ticket">
</head>

<body>
<main>

  <!-- page title -->
  <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2">Watchers</h1>
  </div>

  <!-- if there is no user to show -->
  <div th:if="${#lists.isEmpty(watchers)}">
    <p class="fs-4">Nobody is watching this ticket.</p>
  </div>

  <!-- users table -->
  <div class="card-group row-cols-1 row-cols-md-4 g-4">
    <div th:each="user : ${watchers}">
      <div class="card mb-3 border-primary" style="width: 15rem;">

        <div class="card-header text-center">
          <svg width="34" height="34" fill="currentColor" class="bi bi-person mt-2" viewBox="0 0 16 16">
            <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4Zm-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664h10Z"/>
          </svg>
          <h6 class="mt-1 mb-2" th:text="${user.username}"></h6>
        </div>

        <div class="card-body">
          <p class="mt-1 fw-bold">Name: <span class="fw-normal" th:text="${user.name}"></span></p>
          <p class="mt-1 fw-bold">Surname: <span class="fw-normal" th:text="${user.surname}"></span></p>
          <p class="mt-1 fw-bold">Role: <span class="fw-normal" th:text="${user.role}"></span></p>
          <hr>
          <p>Ticket Watched: <span th:text="${user.watchedTickets.size()}"></span></p>
        </div>

      </div>
    </div>
  </div>

</main>
</body>
</html>